<div data-controller="nested-form" data-nested-form-association-value="social_links" class="space-y-4">
  <button type="button"
    data-action="nested-form#add"
    class="inline-flex items-center gap-2 rounded bg-green-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
    <i class="fa-solid fa-plus"></i>
    Ajouter
  </button>

  <div data-nested-form-target="list" data-next-index="" class="space-y-4">
    <%= f.fields_for :social_links do |ff| %>
      <%= render "admin/social_links/nested_fields", f: ff %>
    <% end %>
  </div>

  <template data-nested-form-target="template">
    <%= render "admin/social_links/nested_fields",
      f: nested_form_builder_for(Site.new.social_links.build, 'social_links', 'NEW_RECORD', parent_builder: f) %>
  </template>
</div>
